/*====================================================================================================*/
/*====================================================================================================*/
#include "drivers\stm32f4_system.h"
#include "modules\serial.h"
#include "modules\mpu6500.h"

#include "qCopterMV.h"
/*====================================================================================================*/
/*====================================================================================================*/
void QMV_Init( void )
{
  HAL_InitTick();

  QMV_GPIO_Config();
  QMV_UART_Config(NULL);
  QMV_IMU_Config();
}
/*====================================================================================================*/
/*====================================================================================================*/
void QMV_Loop( void )
{
  int16_t imu[12] = {0};

  while(1) {
    LED_G_Toggle();
    delay_ms(100);

    MPU6500_getData(imu);
    printf("A.X = %5i,\tA.Y = %5i,\tA.Z = %5i,\tG.X = %5i,\tG.Y = %5i,\tG.Z = %5i\r\n",
      imu[1], imu[2], imu[3],
      imu[4], imu[5], imu[6]
    );
  }
}
/*====================================================================================================*/
/*====================================================================================================*/
