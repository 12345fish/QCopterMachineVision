/*====================================================================================================*/
/*====================================================================================================*/
#include "drivers\stm32f4_system.h"
#include "modules\otm8009.h"
#include "modules\ov7725.h"

#include "qCopterMV.h"
/*====================================================================================================*/
/*====================================================================================================*/
void QMV_Init( void )
{
  HAL_InitTick();

  QMV_GPIO_Config();
  QMV_LCD_Config();
  QMV_Camera_Config();
}
/*====================================================================================================*/
/*====================================================================================================*/
__IO uint32_t fps_count = 0;
void QMV_Loop( void )
{
  LCD_PutStr(650, 460, &FONT16, "FPS : ", RED, WHITE);
  LCD_SetWindow(0, 0, FRAME_W - 1, FRAME_H - 1);
  OV7725_Start();

  while(1) {
    LED_B_Toggle();
    fps_count = 0;
    delay_ms(1000);
    LCD_PutNum(698, 460, &FONT16, Type_D, 3, fps_count, RED, WHITE);
  }
}
/*====================================================================================================*/
/*====================================================================================================*/
